# üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ email (–±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è)

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ email –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—Å—Ä–æ—á–∫–µ check-in

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ó–∞–ø—É—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç–∫—Ä–æ–π `http://localhost:8000`

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–ù–∞–∂–º–∏ **F12** (–∏–ª–∏ **Ctrl+Shift+I**) ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Console**

### –®–∞–≥ 3: –ó–∞–ø–æ–ª–Ω–∏ –∫–æ–Ω—Ç–∞–∫—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É "Emergency Contact" –∏ –Ω–∞–∂–º–∏ "Save Contact"

–ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:

```javascript
localStorage.setItem('emergencyContact', JSON.stringify({
    name: 'Test Contact',
    phone: '+1234567890',
    email: 'gorelikgo@gmail.com'  // –¢–≤–æ–π email –¥–ª—è —Ç–µ—Å—Ç–∞
}));
location.reload();  // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

### –®–∞–≥ 4: –°–∏–º—É–ª–∏—Ä—É–π –ø—Ä–æ—Å—Ä–æ—á–∫—É –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É

–í—ã–ø–æ–ª–Ω–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
// –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É 5 –¥–Ω–µ–π –Ω–∞–∑–∞–¥ (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ –Ω–∞ 3 –¥–Ω—è, –±–æ–ª—å—à–µ —á–µ–º 4 –¥–Ω—è = –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞)
localStorage.setItem('lastCheckIn', (Date.now() - 5*24*60*60*1000).toString());

// –û—á–∏—Å—Ç–∏—Ç—å —Ñ–ª–∞–≥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–Ω–æ–≤–∞)
localStorage.removeItem('lastEmergencyNotification');

// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É - email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò!
location.reload();
```

**–í–∞–∂–Ω–æ:** Email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –µ—Å–ª–∏:
- –ü—Ä–æ—Å—Ä–æ—á–∫–∞ –±–æ–ª—å—à–µ 4 –¥–Ω–µ–π (5+ –¥–Ω–µ–π –≤ —Å–∏–º—É–ª—è—Ü–∏–∏)
- –ö–æ–Ω—Ç–∞–∫—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω
- –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ —Å–µ–≥–æ–¥–Ω—è (–ø–æ—ç—Ç–æ–º—É –æ—á–∏—â–∞–µ–º `lastEmergencyNotification`)

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
Emergency notification triggered for: {name: "Test Contact", ...}
Emergency email sent successfully: {success: true, ...}
```

**–ü—Ä–æ–≤–µ—Ä—å –ø–æ—á—Ç—É:**
- –û—Ç–∫—Ä–æ–π `gorelikgo@gmail.com`
- –ü–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –º–∏–Ω—É—Ç
- –¢–µ–º–∞: `üö® R U Dead? - User hasn't checked in for 5 days`

---

## üöÄ –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤–ª—è–π)

–û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏ –≤–µ—Å—å –±–ª–æ–∫ - email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ:

```javascript
// 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
localStorage.setItem('emergencyContact', JSON.stringify({
    name: 'Test Contact',
    phone: '+1234567890',
    email: 'gorelikgo@gmail.com'
}));

// 2. –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ä–æ—á–∫—É 5 –¥–Ω–µ–π (–±–æ–ª—å—à–µ —á–µ–º 4 –¥–Ω—è = –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞)
localStorage.setItem('lastCheckIn', (Date.now() - 5*24*60*60*1000).toString());

// 3. –û—á–∏—Å—Ç–∏—Ç—å —Ñ–ª–∞–≥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–Ω–æ–≤–∞)
localStorage.removeItem('lastEmergencyNotification');

// 4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É - email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò!
location.reload();
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:
- –°—Ç–∞—Ç—É—Å —Å—Ç–∞–Ω–µ—Ç –∫—Ä–∞—Å–Ω—ã–º "R U Dead?"
- –í –∫–æ–Ω—Å–æ–ª–∏ —É–≤–∏–¥–∏—à—å: `Emergency notification triggered for: {...}`
- Email –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—á—Ç—É `gorelikgo@gmail.com`

---

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞:

1. **–í –∫–æ–Ω—Å–æ–ª–∏:**
   - `Emergency notification triggered for: {...}`
   - `Emergency email sent successfully: {success: true, ...}`

2. **–í Cloudflare Dashboard:**
   - Workers & Pages ‚Üí rudead ‚Üí Logs
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å —Å `type: 'emergency'`
   - –°—Ç–∞—Ç—É—Å 200

3. **–í Resend Dashboard:**
   - https://resend.com/emails
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–∏—Å—å–º–æ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "Delivered"

4. **–í –ø–æ—á—Ç–µ:**
   - `gorelikgo@gmail.com`
   - –ü–∏—Å—å–º–æ —Å —Ç–µ–º–æ–π `üö® R U Dead? - User hasn't checked in for 5 days`

### ‚ùå –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

**–û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
- `Failed to send email` ‚Üí –ø—Ä–æ–≤–µ—Ä—å Worker –ª–æ–≥–∏
- `CORS error` ‚Üí –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Worker –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- `Network error` ‚Üí –ø—Ä–æ–≤–µ—Ä—å URL Worker –≤ `app.js`

**–ü—Ä–æ–≤–µ—Ä—å Worker:**
1. Cloudflare Dashboard ‚Üí Workers & Pages ‚Üí rudead ‚Üí Logs
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
3. –ü—Ä–æ–≤–µ—Ä—å Secrets (RESEND_API_KEY, ADMIN_EMAIL)

**–ü—Ä–æ–≤–µ—Ä—å –∫–æ–¥:**
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ Worker URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `https://rudead.gorelikgo.workers.dev`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ Worker –∫–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç (—á–µ—Ä–µ–∑ curl)

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Worker –Ω–∞–ø—Ä—è–º—É—é:

```bash
curl -X POST https://rudead.gorelikgo.workers.dev \
  -H "Content-Type: application/json" \
  -d '{
    "type": "emergency",
    "contact_name": "Test Contact",
    "contact_phone": "+1234567890",
    "contact_email": "gorelikgo@gmail.com",
    "days_overdue": 5,
    "last_checkin": "2025-01-20 10:00:00"
  }'
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"success":true}`

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É email –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

